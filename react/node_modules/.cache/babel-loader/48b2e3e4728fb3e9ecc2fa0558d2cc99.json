{"ast":null,"code":"import _slicedToArray from \"I:\\\\projects\\\\reactdjangouserauth\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nvar useFetchUserData = function useFetchUserData(url) {\n  // Added url parameter\n\n  console.log(\"useFetchUserData called\"); // Debugging line\n  var _useState = useState({\n      username: '',\n      email: '',\n      first_name: '',\n      last_name: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    userData = _useState2[0],\n    setUserData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1]; // To store potential error data\n  useEffect(function () {\n    setIsLoading(true); // Set loading to true at the start\n    try {\n      var token = localStorage.getItem('access_token');\n      axios.get(url, {\n        headers: {\n          'Authorization': \"Bearer \".concat(token)\n        }\n      }).then(function (response) {\n        if (response.status === 200) {\n          setUserData({\n            username: response.data.username,\n            email: response.data.email,\n            first_name: response.data.first_name,\n            last_name: response.data.last_name\n          });\n        }\n        setIsLoading(false);\n      }).catch(function (err) {\n        setError(err);\n        setIsLoading(false);\n      });\n    } catch (err) {\n      setError(err);\n      setIsLoading(false);\n      console.error(\"There was an error fetching user details:\", err);\n    }\n    ;\n  }, [url]); // Dependency on the url, so it'll refetch if url changes\n\n  return [userData, error]; // Changed to return in array format\n};\n\nexport default useFetchUserData;","map":{"version":3,"names":["useState","useEffect","axios","useFetchUserData","url","console","log","_useState","username","email","first_name","last_name","_useState2","_slicedToArray","userData","setUserData","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","token","localStorage","getItem","get","headers","concat","then","response","status","data","catch","err"],"sources":["I:/projects/reactdjangouserauth/react/src/hooks/useFetchUserData.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst useFetchUserData = (url) => {  // Added url parameter\r\n\r\n    console.log(\"useFetchUserData called\");  // Debugging line\r\n\r\n  const [userData, setUserData] = useState({\r\n    username: '',\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);  // To store potential error data\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);  // Set loading to true at the start\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n\r\n      axios.get(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      })\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          setUserData({\r\n            username: response.data.username,\r\n            email: response.data.email,\r\n            first_name: response.data.first_name,\r\n            last_name: response.data.last_name,\r\n          });\r\n        }\r\n        setIsLoading(false);\r\n      })\r\n      .catch(err => {\r\n        setError(err);\r\n        setIsLoading(false);\r\n      });\r\n    } catch (err) {\r\n      setError(err);\r\n      setIsLoading(false);\r\n      console.error(\"There was an error fetching user details:\", err);\r\n    };\r\n  }, [url]);  // Dependency on the url, so it'll refetch if url changes\r\n\r\n  return [userData, error];  // Changed to return in array format\r\n};\r\nexport default useFetchUserData;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,GAAG,EAAK;EAAG;;EAEjCC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC,CAAC,CAAE;EAAA,IAAAC,SAAA,GAEXP,QAAQ,CAAC;MACvCQ,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE;IACb,CAAC,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAN,SAAA;IALKO,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAAA,IAAAI,UAAA,GAMMhB,QAAQ,CAAC,KAAK,CAAC;IAAAiB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA1CE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAAA,IAAAG,UAAA,GACJpB,QAAQ,CAAC,IAAI,CAAC;IAAAqB,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA,KAAqB;EAE3CpB,SAAS,CAAC,YAAM;IACdkB,YAAY,CAAC,IAAI,CAAC,CAAC,CAAE;IACrB,IAAI;MACF,IAAMK,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;MAElDxB,KAAK,CAACyB,GAAG,CAACvB,GAAG,EAAE;QACbwB,OAAO,EAAE;UACP,eAAe,YAAAC,MAAA,CAAYL,KAAK;QAClC;MACF,CAAC,CAAC,CACDM,IAAI,CAAC,UAAAC,QAAQ,EAAI;QAChB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;UAC3BjB,WAAW,CAAC;YACVP,QAAQ,EAAEuB,QAAQ,CAACE,IAAI,CAACzB,QAAQ;YAChCC,KAAK,EAAEsB,QAAQ,CAACE,IAAI,CAACxB,KAAK;YAC1BC,UAAU,EAAEqB,QAAQ,CAACE,IAAI,CAACvB,UAAU;YACpCC,SAAS,EAAEoB,QAAQ,CAACE,IAAI,CAACtB;UAC3B,CAAC,CAAC;QACJ;QACAQ,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,CACDe,KAAK,CAAC,UAAAC,GAAG,EAAI;QACZZ,QAAQ,CAACY,GAAG,CAAC;QACbhB,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOgB,GAAG,EAAE;MACZZ,QAAQ,CAACY,GAAG,CAAC;MACbhB,YAAY,CAAC,KAAK,CAAC;MACnBd,OAAO,CAACiB,KAAK,CAAC,2CAA2C,EAAEa,GAAG,CAAC;IACjE;IAAC;EACH,CAAC,EAAE,CAAC/B,GAAG,CAAC,CAAC,CAAC,CAAE;;EAEZ,OAAO,CAACU,QAAQ,EAAEQ,KAAK,CAAC,CAAC,CAAE;AAC7B,CAAC;;AACD,eAAenB,gBAAgB"},"metadata":{},"sourceType":"module"}